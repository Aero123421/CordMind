# 要求整理（2026-01-21）

## 参照
- docs/plan/01-requirements.md
- docs/plan/10-agentic.md
- docs/plan/04-implementation.md
- README.md / README.ja.md
- ユーザー入力: 「全部」「自律的に多様なToolを使用してマルチステップ」

## ゴール（要約）
- Discord サーバー管理を自然言語で安全に実行できる汎用 AI エージェントを実装する。
- 主要資源（チャンネル/ロール/メンバー/権限/スレッド）を横断して扱えること。
- 観測→計画→実行→再計画の多段階で自律的に進め、必要時のみ質問すること。

## “エージェンティック”の定義（ユーザー合意）
- 自律的に多様なツールを使い、マルチステップで問題解決する。

## Must（必須）
- 管理者/指定ロールのみが操作できる（承認ボタン含む）。
- @メンション起点で Thread を作成し、Thread で会話継続。
- 破壊的操作は必ず二段階確認（Accept/Reject、依頼者のみ承認）。
- LLM が tool を用いて “観測→計画→実行→再計画” を回せる。
- “ID を教えて” が標準動作にならない（観測で解決）。
- 言語設定（英/日）に基づきユーザー向け文面が一貫。
- 監査ログ（最小限）と失敗時のログが残る。

## Should（推奨）
- LLM 出力は構造化（質問/行動/理由/想定影響）で安定化。
- 主要リソースの観測ツールを充実（一覧/検索/詳細/権限）。
- 失敗時は “何が不足か” を短く提示し、次の一手を提案。
- レート制限・部分成功の UX を破綻させない。

## Could（あると良い）
- 代表ログによる評価（Evals）と回帰防止。
- デバッグモード（ツール履歴の簡易出力）。

## Non-goals（範囲外）
- 雑談ボット、SaaS 化、課金、画像/音声。

## 未確定/質問
- 破壊的判定の最終ルール（AI判断/ルール併用の比率）。
- destructive レート制限の最終値（計画では厳しめ提案あり）。
